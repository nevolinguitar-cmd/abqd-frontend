<!doctype html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ABQD — Вход / Регистрация</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/app.css?v=4">

  <style>
    .authWrap{max-width:980px;margin:0 auto;padding:18px 14px 44px;}
    .authGrid{display:grid;grid-template-columns:1.05fr .95fr;gap:16px;align-items:start;margin-top:16px;}
    @media (max-width: 860px){ .authGrid{grid-template-columns:1fr;} }
    .panel{border:1px solid rgba(255,255,255,.13);border-radius:22px;backdrop-filter:blur(12px);box-shadow:0 18px 60px rgba(0,0,0,.30);
      background: radial-gradient(120% 140% at 10% 0%, rgba(255,255,255,.10), transparent 55%),
                  linear-gradient(180deg, rgba(15,17,23,.92), rgba(255,255,255,.04));
      padding:18px;
    }
    html[data-theme="soft"] .panel{
      background: radial-gradient(120% 140% at 10% 0%, rgba(0,0,0,.05), transparent 55%),
                  linear-gradient(180deg, rgba(255,255,255,.74), rgba(255,255,255,.92));
      box-shadow:0 18px 60px rgba(18,24,40,.12);
    }
    .modeBar{display:flex;gap:8px;margin-bottom:10px;}
    .modeBtn{border:1px solid rgba(255,255,255,.13);background:rgba(0,0,0,.10);color:rgba(238,241,246,.86);
      padding:10px 12px;border-radius:999px;font-weight:800;cursor:pointer;transition:.15s;}
    .modeBtn.active{background:linear-gradient(90deg,rgba(255,77,157,.22),rgba(109,92,255,.18));border-color:rgba(255,77,157,.35)}
    html[data-theme="soft"] .modeBtn{background:rgba(255,255,255,.55);color:#10131a;border-color:rgba(16,19,26,.14)}
    html[data-theme="soft"] .modeBtn.active{background:linear-gradient(90deg,rgba(37,99,235,.20),rgba(124,58,237,.14));border-color:rgba(37,99,235,.35)}
    .field{display:flex;flex-direction:column;gap:6px;margin:10px 0;}
    .label{font-weight:800;font-size:12px;letter-spacing:.02em;opacity:.86}
    .input{width:100%;border-radius:14px;border:1px solid rgba(255,255,255,.13);background:rgba(0,0,0,.12);color:rgba(238,241,246,.94);
      padding:12px 12px;font-weight:700;outline:none;}
    .input:focus{border-color:rgba(255,77,157,.45)}
    html[data-theme="soft"] .input{background:rgba(255,255,255,.65);color:#10131a;border-color:rgba(16,19,26,.14)}
    html[data-theme="soft"] .input:focus{border-color:rgba(37,99,235,.35)}
    .btnPrimary{width:100%;border:0;border-radius:999px;padding:12px 18px;font-weight:900;cursor:pointer;position:relative;overflow:hidden;color:#fff}
    .btnPrimary::before{content:"";position:absolute;inset:-1px;background:linear-gradient(90deg,#ff4d9d,#6d5cff);border-radius:inherit;z-index:-1}
    html[data-theme="soft"] .btnPrimary{color:#10131a;border:1px solid rgba(16,19,26,.16);box-shadow:0 16px 36px rgba(18,24,40,.14),0 1px 0 rgba(255,255,255,.70) inset,0 -1px 0 rgba(0,0,0,.06) inset;}
    html[data-theme="soft"] .btnPrimary::before{background:linear-gradient(180deg, rgba(226,229,235,.98) 0%, rgba(196,203,214,.96) 48%, rgba(168,177,191,.95) 100%);}
    .muted{opacity:.72;font-weight:700;font-size:13px;line-height:1.5}
    .codeBox{display:flex;gap:10px;align-items:center;}
    .codeInput{letter-spacing:.35em;text-align:center;font-size:18px;}
    .row{display:flex;gap:10px;align-items:center;}
    .btnGhost{border:1px solid rgba(255,255,255,.18);background:rgba(0,0,0,.10);color:rgba(238,241,246,.90);border-radius:999px;padding:11px 14px;font-weight:900;cursor:pointer;}
    html[data-theme="soft"] .btnGhost{background:rgba(255,255,255,.55);color:#10131a;border-color:rgba(16,19,26,.14)}
    .miniSeg{margin-left:auto}
  </style>
</head>
<body>
  <div class="authWrap">
    <div class="navline">
      <a class="brand" href="/">ABQD</a>
      <div class="navActions">
        <div class="seg miniSeg" id="themeSeg">
          <button type="button" data-theme="dark" class="active">Тёмная</button>
          <button type="button" data-theme="soft">Белая</button>
        </div>
      </div>
    </div>

    <div class="authGrid">
      <div class="panel">
        <h1 id="title" style="margin:0 0 8px;font-weight:900;letter-spacing:-.03em">Вход</h1>
        <p class="muted" id="hint" style="margin:0 0 14px;">Вход по email + пароль. Затем подтвердите вход кодом из письма.</p>

        <div class="modeBar">
          <button class="modeBtn active" type="button" data-mode="login">Вход</button>
          <button class="modeBtn" type="button" data-mode="register">Регистрация</button>
          <input id="mode" type="hidden" value="login">
        </div>

        <!-- STEP 1 -->
        <div id="step1">
          <form id="form1">
            <div class="field">
              <div class="label">Email</div>
              <input class="input" id="email" type="email" required placeholder="you@email.com">
            </div>

            <div class="field" id="phoneRow" style="display:none">
              <div class="label">Телефон (обязательно)</div>
              <input class="input" id="phone" type="tel" required placeholder="+7 999 123-45-67">
            </div>

            <div class="field">
              <div class="label">Пароль</div>
              <input class="input" id="password" type="password" required minlength="8" placeholder="минимум 8 символов">
            </div>

            <button class="btnPrimary" id="submitBtn" type="submit">Получить код</button>
          </form>

          <p class="muted" style="margin:12px 0 0;">
            Мы используем подтверждение входа кодом из письма — это снижает риск взлома.
          </p>
        </div>

        <!-- STEP 2 -->
        <div id="step2" style="display:none">
          <p class="muted" style="margin:0 0 12px;">
            Мы отправили код на: <b id="codeEmail"></b><br>
            Введите 6 цифр (код действует 10 минут).
          </p>

          <form id="form2">
            <input id="challenge" type="hidden" value="">
            <div class="field">
              <div class="label">Код из письма</div>
              <input class="input codeInput" id="code" type="text" inputmode="numeric" pattern="\d{6}" maxlength="6" required placeholder="______">
            </div>
            <div class="row">
              <button class="btnPrimary" id="verifyBtn" type="submit">Подтвердить</button>
              <button class="btnGhost" id="backBtn" type="button">Назад</button>
            </div>
          </form>
        </div>

      </div>

      <div class="panel">
        <h2 style="margin:0 0 10px;font-weight:900;letter-spacing:-.03em">Что будет дальше</h2>
        <div class="muted" style="display:flex;flex-direction:column;gap:10px;">
          <div><b>1)</b> После входа вы попадёте в личный кабинет.</div>
          <div><b>2)</b> Если нет активного доступа — увидите тарифы и сможете включить Trial.</div>
          <div><b>3)</b> Данные (email + телефон) сохраняются — дальше они попадут в CRM для работы с клиентами.</div>
        </div>

        <div style="height:14px"></div>
        <div class="muted">
          Документы: <a href="/docs/offer.html">оферта</a> • <a href="/docs/privacy.html">политика</a> • <a href="/docs/terms.html">условия</a> • <a href="/docs/contacts.html">контакты</a>
        </div>
      </div>
    </div>
  </div>

  <script src="/assets/theme.js?v=4"></script>
  <script src="/assets/api.js?v=4"></script>
  <script src="/assets/auth.js?v=4"></script>
  <script>window.ABQD && ABQD.theme && ABQD.theme.initThemeSeg && ABQD.theme.initThemeSeg();</script>
</body>
</html>
