<!doctype html>
<!--
  ABQD • Конструктор NFC 1.1 (фиксированная версия-эталон для отката)
  Дата фиксации: 2025-12-28
-->
<html lang="ru" data-theme="soft">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Конструктор профиля</title>
  <!-- Montserrat (UI font) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --font: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --r1:16px;
      --r2:22px;

      /* DARK (Тёмная) */
      --bg:#0b0c10;
      --panel:#0f1117;
      --panel2:#11131b;
      --text:#eef1f6;
      --muted:rgba(238,241,246,.66);
      --line:rgba(255,255,255,.13);
      --shadow:0 18px 60px rgba(0,0,0,.30);

      --accent:#ff4d9d;
      --accent2:#6d5cff;
      --primary1:#ff4d9d;
      --primary2:#6d5cff;

      --gridBg: rgba(255,255,255,.03);

      /* OK / checkmark — зелёный ТОЛЬКО в тёмной теме */
      --ok:#39d98a;
      --ok2:#1bbf63;
    }

    html[data-theme="soft"]{
      /* WHITE (Белая) — айфон‑стекло */
      --bg:#f4f6fb;
      --panel:rgba(255,255,255,.62);
      --panel2:rgba(255,255,255,.78);
      --text:#10131a;
      --muted:rgba(16,19,26,.56);
      --line:rgba(16,19,26,.14);
      --shadow:0 18px 60px rgba(18,24,40,.12);

      --accent:#2563eb;
      --accent2:#7c3aed;

      --primary1:#2563eb;
      --primary2:#7c3aed;

      --gridBg: rgba(255,255,255,.42);

      /* OK / checkmark — зелёный, как в тёмной теме */
      --ok:#39d98a;
      --ok2:#1bbf63;
    }

    *{box-sizing:border-box}
    body{margin:0;font-family:var(--font);color:var(--text);font-size:15.5px;line-height:1.62;
      background:
        radial-gradient(1100px 700px at 15% 10%, rgba(109,92,255,.16), transparent 55%),
        radial-gradient(1100px 700px at 85% 15%, rgba(255,77,157,.14), transparent 55%),
        var(--bg);
    }

    /* лёгкая «плёнка/зерно» */
    body::before{content:"";position:fixed;inset:0;pointer-events:none;z-index:0;
      opacity:.055;mix-blend-mode:overlay;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      transform:translateZ(0)}

    .wrap{position:relative;z-index:1}
    .wrap{max-width:1320px;margin:0 auto;padding:18px 14px 44px;}

    .top{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;margin:6px 0 14px;}
    h1{margin:0;font-size:38px;letter-spacing:-.045em;line-height:1.04;font-weight:800}

    .seg{display:inline-flex;border:1px solid var(--line);background:rgba(0,0,0,.08);border-radius:999px;overflow:hidden;backdrop-filter:blur(10px)}
    html[data-theme="soft"] .seg{background:rgba(255,255,255,.35)}
    .seg button{border:0;background:transparent;cursor:pointer;padding:9px 12px;font-size:12px;color:var(--muted);font-weight:800}
    .seg button.active{color:var(--text);background:linear-gradient(90deg,rgba(255,255,255,.16),rgba(255,255,255,.06))}

    /* ===== кнопки (пилюли) ===== */
    .btnRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{
      position:relative;
      border:1px solid var(--line);
      background:rgba(0,0,0,.08);
      color:var(--text);
      border-radius:999px;
      padding:11px 14px;
      font-weight:800;
      font-size:13px;
      cursor:pointer;
      overflow:hidden;
      isolation:isolate;
      transform:translateZ(0);
      transition:transform .14s ease, filter .14s ease, background .14s ease;
    }
    html[data-theme="soft"] .btn{background:rgba(255,255,255,.45)}
    .btn:active{transform:translateY(1px)}
    .btn.outline{background:transparent}

    /* Активное состояние только для нижних action‑кнопок */
    .btn.active{
      border-color:rgba(255,77,157,.55);
      box-shadow:0 0 0 2px rgba(255,77,157,.18) inset;
    }
    html[data-theme="soft"] .btn.active{
      border-color:rgba(37,99,235,.40);
      box-shadow:0 0 0 2px rgba(37,99,235,.12) inset;
    }

    /* ===== slug footer (как на скрине) ===== */
    .slugFooter{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-top:12px}
    .slugActionsLeft{display:flex;gap:10px;flex-wrap:wrap}
    .slugAction{letter-spacing:.12em;text-transform:uppercase;font-size:11.5px;padding:10px 14px}
    .slugActionsRight{display:flex;flex-direction:column;align-items:flex-end;gap:8px;min-width:260px}
    .slugTipInline{margin-top:8px;font-size:12.5px;line-height:1.4;color:var(--muted);font-weight:800;max-width:560px;text-align:left}
    /* resetLink (deprecated — reset теперь кнопка внизу) */

    .grid{
      display:grid;
      grid-template-columns:1.25fr .75fr;
      gap:12px;
      align-items:start;
      padding:10px;
      border-radius:var(--r2);
      background:var(--gridBg);
      border:1px solid rgba(255,255,255,.10);
    }
    html[data-theme="soft"] .grid{border-color:rgba(0,0,0,.10)}

    @media (max-width: 980px){.grid{grid-template-columns:1fr}}
    @media (max-width: 560px){
      .wrap{padding-top:86px}
      h1{font-size:28px}
      .top{margin:0 0 12px}
      .grid{padding:8px}
    }

    .card{position:relative;border:1px solid var(--line);
      background:
        radial-gradient(120% 140% at 10% 0%, rgba(255,255,255,.10), transparent 55%),
        linear-gradient(180deg,var(--panel),rgba(255,255,255,.04));
      border-radius:var(--r2);
      box-shadow:var(--shadow);
      backdrop-filter:blur(12px);
      overflow:hidden}
    .card::before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;
      background:linear-gradient(135deg, rgba(255,255,255,.22), transparent 42%, rgba(255,255,255,.10));
      opacity:.18;mix-blend-mode:overlay}
    html[data-theme="soft"] .card::before{opacity:.10;mix-blend-mode:normal}

    .cardHd{padding:14px 14px 10px;border-bottom:1px solid var(--line);display:flex;align-items:center;justify-content:space-between;gap:10px}
    .cardHd b{font-size:12px;letter-spacing:.16em;text-transform:uppercase;color:var(--muted)}

    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{border:1px solid var(--line);background:rgba(0,0,0,.08);color:var(--text);border-radius:999px;padding:8px 10px;font-weight:800;font-size:12px;cursor:pointer}
    html[data-theme="soft"] .tab{background:rgba(255,255,255,.45)}
    .tab.active{border-color:rgba(255,77,157,.55);box-shadow:0 0 0 2px rgba(255,77,157,.18) inset}
    html[data-theme="soft"] .tab.active{border-color:rgba(37,99,235,.40);box-shadow:0 0 0 2px rgba(37,99,235,.12) inset}

    .pad{padding:14px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width: 560px){.row{grid-template-columns:1fr}}

    label{display:block;margin:0 0 6px;font-size:10.5px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);font-weight:700}
    .help{margin:6px 0 0;color:var(--muted);font-size:13.5px;line-height:1.55;font-weight:600}
    .mini{font-size:12px;color:var(--muted);font-weight:800}

    /* ===== Save state ===== */
    .saveStatus{display:flex;align-items:center;gap:8px;margin-top:10px}
    .saveDot{width:8px;height:8px;border-radius:999px;background:var(--muted);opacity:.55;flex:0 0 auto}
    .saveStatus .saveTxt{font-size:12px;color:var(--muted);font-weight:800;letter-spacing:.02em}
    .saveStatus[data-state="dirty"] .saveDot{background:rgba(255,77,157,.85);opacity:.95}
    html[data-theme="soft"] .saveStatus[data-state="dirty"] .saveDot{background:rgba(37,99,235,.80)}
    .saveStatus[data-state="saving"] .saveDot{background:rgba(109,92,255,.85);opacity:.95;animation:savePulse 1.1s ease-in-out infinite}
    html[data-theme="soft"] .saveStatus[data-state="saving"] .saveDot{background:rgba(124,58,237,.78)}
    .saveStatus[data-state="saved"] .saveDot{background:var(--muted);opacity:.5}
    @keyframes savePulse{0%,100%{transform:scale(1)}50%{transform:scale(1.55)}}

    input, textarea, select{width:100%;border-radius:14px;padding:11px 12px;border:1px solid var(--line);
      background:rgba(0,0,0,.16);color:var(--text);outline:none;font-size:14px;
      transition:border-color .14s ease, box-shadow .14s ease, transform .14s ease
    }
    html[data-theme="soft"] input, html[data-theme="soft"] textarea, html[data-theme="soft"] select{
      background:rgba(255,255,255,.82);
      color:var(--text);
      border-color:rgba(0,0,0,.12);
    }

    textarea{min-height:112px;resize:vertical}
    input.mutedDefault, textarea.mutedDefault{color:var(--muted)}

    input:focus, textarea:focus, select:focus{
      border-color:rgba(255,77,157,.45);
      box-shadow:0 0 0 4px rgba(255,77,157,.12);
      transform:translateY(-1px)
    }
    html[data-theme="soft"] input:focus, html[data-theme="soft"] textarea:focus, html[data-theme="soft"] select:focus{
      border-color:rgba(37,99,235,.38);
      box-shadow:0 0 0 4px rgba(37,99,235,.10);
    }

    input::placeholder, textarea::placeholder{color:rgba(255,255,255,.45)}
    html[data-theme="soft"] input::placeholder, html[data-theme="soft"] textarea::placeholder{color:rgba(16,19,26,.38)}

    /* ===== File input: кнопка «Выберите файл» в тон темы ===== */

    /* Подвал под карточками «Работы» */
    .galleryFoot{margin-top:14px;padding-top:12px;border-top:1px solid rgba(255,255,255,.10);display:flex;justify-content:center;text-align:center;color:var(--muted);font-size:12.5px;font-weight:800;letter-spacing:.01em}
    html[data-theme="soft"] .galleryFoot{border-top:1px solid rgba(0,0,0,.10)}
    input[type="file"]{color:var(--muted);padding:10px 12px;}

    input[type="file"]::file-selector-button,
    input[type="file"]::-webkit-file-upload-button{
      border:1px solid var(--line);
      border-radius:12px;
      padding:8px 12px;
      margin-right:10px;
      font-family:var(--font);
      font-weight:800;
      font-size:12.5px;
      letter-spacing:.02em;
      cursor:pointer;
      transition:transform .14s ease, filter .14s ease, background .14s ease, border-color .14s ease;

      /* dark (default) */
      color:var(--text);
      background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
      box-shadow:
        0 10px 22px rgba(0,0,0,.22),
        0 1px 0 rgba(255,255,255,.08) inset;
    }
    input[type="file"]::file-selector-button:hover,
    input[type="file"]::-webkit-file-upload-button:hover{filter:brightness(1.05)}
    input[type="file"]::file-selector-button:active,
    input[type="file"]::-webkit-file-upload-button:active{transform:translateY(1px)}

    /* Белая — «алюминий айфона» */
    html[data-theme="soft"] input[type="file"]::file-selector-button,
    html[data-theme="soft"] input[type="file"]::-webkit-file-upload-button{
      color:rgba(16,19,26,.88);
      border-color:rgba(16,19,26,.14);
      background:linear-gradient(180deg,
        rgba(228,232,239,.98) 0%,
        rgba(206,213,224,.97) 55%,
        rgba(186,195,210,.96) 100%);
      box-shadow:
        0 12px 24px rgba(18,24,40,.10),
        0 1px 0 rgba(255,255,255,.78) inset,
        0 -1px 0 rgba(0,0,0,.06) inset;
    }

    .btn:focus-visible, .tab:focus-visible, .x:focus-visible, .chipA:focus-visible, .cta a:focus-visible{
      outline:none;
      box-shadow:0 0 0 4px rgba(255,77,157,.16)
    }
    html[data-theme="soft"] .btn:focus-visible,
    html[data-theme="soft"] .tab:focus-visible,
    html[data-theme="soft"] .x:focus-visible,
    html[data-theme="soft"] .chipA:focus-visible,
    html[data-theme="soft"] .cta a:focus-visible{box-shadow:0 0 0 4px rgba(37,99,235,.12)}

    /* ===== Увеличенный «Редактор» ===== */
    .editorCard{align-self:start}
    @media (min-width: 981px){
      .editorCard{position:sticky;top:14px;max-height:calc(100vh - 28px);overflow:hidden;}
      .editorCard .cardHd{position:sticky;top:0;z-index:5;background:linear-gradient(180deg,var(--panel2),var(--panel));backdrop-filter:blur(14px)}
      .editorCard .pad{max-height:calc(100vh - 128px);overflow:auto}
      .editorCard .pad::-webkit-scrollbar{width:10px}
      .editorCard .pad::-webkit-scrollbar-thumb{background:rgba(255,255,255,.14);border-radius:999px;border:2px solid transparent;background-clip:content-box}
      html[data-theme="soft"] .editorCard .pad::-webkit-scrollbar-thumb{background:rgba(0,0,0,.16);background-clip:content-box}
      .editorCard .pad::-webkit-scrollbar-track{background:transparent}
    }

    /* Контакты (чипы) */
    .chipsRow{display:flex;flex-wrap:wrap;gap:10px}
    .chipA{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;border:1px solid var(--line);
      background:rgba(0,0,0,.05);text-decoration:none;color:var(--muted)!important;font-weight:800;font-size:12px;
      position:relative;overflow:hidden;isolation:isolate;transform:translateZ(0);
      transition:transform .14s ease, filter .14s ease
    }
    html[data-theme="soft"] .chipA{background:rgba(255,255,255,.45)}
    .chipA:visited{color:var(--muted)!important}
    .chipA:hover{color:var(--text)!important}
    .chipA:active{transform:translateY(1px)}
    .chipI{opacity:.9;color:var(--muted)}

    /* Preview */
    .hero{padding:16px}

    .banner{position:relative;height:220px;border-radius:var(--r2);overflow:hidden;border:1px solid var(--line);background:rgba(0,0,0,.10);z-index:1}
    .bannerPlh{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
      font-weight:800;letter-spacing:.12em;text-transform:uppercase;font-size:12px;
      color:var(--muted);background:linear-gradient(180deg, rgba(255,255,255,.06), transparent);
      pointer-events:none}
    html[data-theme="soft"] .bannerPlh{background:linear-gradient(180deg, rgba(255,255,255,.30), transparent)}
    .banner img{width:100%;height:100%;object-fit:cover;display:block}

    .bannerLogo{position:absolute;right:12px;top:12px;width:56px;height:56px;border-radius:16px;
      border:1px solid var(--line);background:rgba(0,0,0,.18);backdrop-filter:blur(10px);
      display:flex;align-items:center;justify-content:center;overflow:hidden;text-decoration:none;
      box-shadow:0 10px 30px rgba(0,0,0,.18)}
    html[data-theme="soft"] .bannerLogo{background:rgba(255,255,255,.55)}
    .bannerLogo img{width:100%;height:100%;object-fit:cover;display:block}

    .heroHead{margin-top:-54px;display:flex;align-items:flex-end;justify-content:space-between;gap:12px;flex-wrap:wrap;padding:0 10px;position:relative;z-index:3}

    .left{display:flex;align-items:flex-end;gap:12px}
    .avatar{width:106px;height:106px;border-radius:999px;border:4px solid rgba(255,255,255,.9);overflow:hidden;background:rgba(0,0,0,.18);
      box-shadow:0 18px 60px rgba(0,0,0,.20);flex:0 0 auto;display:flex;align-items:center;justify-content:center;
      position:relative;z-index:4}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .avatar .fallback{font-weight:800;font-size:38px;opacity:.92}

    .nm{margin:0;font-size:28px;letter-spacing:-.02em;line-height:1.08;font-weight:800}
    .nm.ph{color:var(--muted);font-weight:800;text-decoration:underline;text-decoration-style:dotted;
      text-underline-offset:7px;text-decoration-thickness:2px}
    .rl{margin:6px 0 0;color:var(--muted);letter-spacing:.14em;text-transform:uppercase;font-size:12px;font-weight:800}
    .rl.ph{opacity:.95;text-decoration:underline;text-decoration-style:dotted;text-underline-offset:7px;text-decoration-thickness:2px}

    .about{padding:10px 10px 14px}
    .h2{margin:10px 0 10px;letter-spacing:.16em;text-transform:uppercase;font-size:12px;color:var(--muted);font-weight:800}
    .aboutText{margin:0;line-height:1.72;font-size:14.5px;white-space:pre-wrap;color:rgba(238,241,246,.78)}
    html[data-theme="soft"] .aboutText{color:rgba(16,19,26,.72)}

    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    .cta a{border:1px solid var(--line);border-radius:999px;padding:11px 14px;font-weight:800;font-size:13px;text-decoration:none;
      color:#fff;
      background:rgba(0,0,0,.22);
      position:relative;overflow:hidden;isolation:isolate;transform:translateZ(0);
      transition:transform .14s ease, filter .14s ease
    }
    .cta a:active{transform:translateY(1px)}

    .cta a.primary{border:0 !important;background:transparent !important;color:#fff !important;border-radius:999px;overflow:hidden;position:relative;isolation:isolate;transform:translateZ(0);box-shadow:0 10px 26px rgba(0,0,0,.14)}
    .cta a.primary::before{content:"";position:absolute;inset:-1px;background:linear-gradient(90deg,var(--primary1),var(--primary2));border-radius:inherit;z-index:-1;transform:translateZ(0)}

    /* Белая тема: CTA как iPhone (алюминий / satin) */
    html[data-theme="soft"] .cta a.primary{color:var(--text) !important;text-shadow:none;border:1px solid rgba(16,19,26,.16) !important;box-shadow:0 16px 36px rgba(18,24,40,.14),0 1px 0 rgba(255,255,255,.70) inset,0 -1px 0 rgba(0,0,0,.06) inset;letter-spacing:.01em}
    html[data-theme="soft"] .cta a.primary::before{background:linear-gradient(180deg, rgba(226,229,235,.98) 0%, rgba(196,203,214,.96) 48%, rgba(168,177,191,.95) 100%)}

    .section{padding:16px}
    .secTitle{margin:0 0 12px;font-size:12px;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);font-weight:800;position:relative}

    .footer{padding:14px 16px 18px;text-align:center;color:var(--muted);font-size:12px;font-weight:800;letter-spacing:.04em}
    .footer .copy{opacity:.92}

    .list{display:flex;flex-direction:column;gap:10px}
    .item{border:1px solid var(--line);background:rgba(0,0,0,.05);border-radius:var(--r1);padding:12px;display:flex;gap:12px;align-items:flex-start;position:relative;overflow:hidden}
    html[data-theme="soft"] .item{background:rgba(255,255,255,.45)}

    .check{
      width:28px;
      height:28px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.08);
      color:var(--ok);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:14px;
      line-height:1;
      flex:0 0 auto;
      box-shadow:0 10px 26px rgba(0,0,0,.16),0 0 0 1px rgba(255,255,255,.06) inset;
    }
    html[data-theme="soft"] .check{background:rgba(255,255,255,.45);box-shadow:0 10px 26px rgba(18,24,40,.10),0 0 0 1px rgba(0,0,0,.06) inset;}

    .itT{margin:0;font-weight:800;font-size:14px}
    .itD{margin:6px 0 0;color:var(--muted);font-size:13px;line-height:1.55;white-space:pre-wrap}

    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    @media (max-width: 900px){.grid3{grid-template-columns:repeat(2,1fr)}}
    @media (max-width: 560px){.grid3{grid-template-columns:1fr}}

    .work{border:1px solid var(--line);border-radius:var(--r1);overflow:hidden;background:rgba(0,0,0,.05);cursor:pointer;transition:.18s ease;min-height:220px;display:flex;flex-direction:column}
    html[data-theme="soft"] .work{background:rgba(255,255,255,.45)}
    .work:hover{transform:translateY(-2px)}
    .workImg{height:160px;background:rgba(0,0,0,.12)}
    .workImg img{width:100%;height:100%;object-fit:cover;display:block}
    .workBody{padding:12px}
    .workT{margin:0;font-weight:800;font-size:14px;line-height:1.2;white-space:pre-wrap;word-break:break-word}
    .workM{margin:7px 0 0;color:var(--muted);font-size:13px;line-height:1.5;white-space:pre-wrap}

    .hide{display:none!important}

    /* destructive buttons: по умолчанию как обычные */
    .btn.danger{border-color: var(--line); color: var(--text); background: transparent;}
    .btn.danger:hover{border-color: rgba(255,77,157,.55); color: rgba(255,77,157,.55);}
    html[data-theme="soft"] .btn.danger:hover{border-color: rgba(37,99,235,.42); color: rgba(37,99,235,.58);}

    /* Modal preview */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:16px;z-index:9999}
    .modal.show{display:flex}
    .modalBackdrop{position:absolute;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(16px)}
    .modalPanel{position:relative;width:min(780px, 96vw);max-height:92vh;overflow:auto;
      transform:translateY(18px);opacity:0;
      transition:transform .28s cubic-bezier(.2,.8,.2,1), opacity .22s ease;
      will-change:transform,opacity}
    .modal.show .modalPanel{transform:translateY(0);opacity:1}
    .modalTop{position:sticky;top:0;z-index:2;display:flex;justify-content:flex-end;gap:10px;padding:10px;background:linear-gradient(180deg, rgba(0,0,0,.22), transparent)}
    html[data-theme="soft"] .modalTop{background:linear-gradient(180deg, rgba(255,255,255,.50), transparent)}
    .x{width:42px;height:42px;border-radius:14px;border:1px solid var(--line);background:rgba(0,0,0,.18);
      color:var(--text);cursor:pointer;font-weight:800}
    html[data-theme="soft"] .x{background:rgba(255,255,255,.55)}

    body.modalOpen{overflow:hidden;padding-right:var(--sbw,0px)}

    /* toast */
    .toastWrap{position:fixed;right:14px;bottom:14px;z-index:99999;display:flex;flex-direction:column;gap:10px;pointer-events:none}
    .toast{pointer-events:none;max-width:min(420px, 92vw);
      border:1px solid var(--line);
      background:linear-gradient(180deg, var(--panel2), var(--panel));
      color:var(--text);
      border-radius:18px;
      padding:12px 14px;
      box-shadow:0 18px 60px rgba(0,0,0,.22);
      backdrop-filter:blur(14px);
      transform:translateY(10px);
      opacity:0;
      transition:transform .24s cubic-bezier(.2,.8,.2,1), opacity .18s ease;
      font-weight:800
    }
    .toast.show{transform:translateY(0);opacity:1}
    .toast small{display:block;margin-top:3px;color:var(--muted);font-weight:700}
  </style>
</head>
<body>
  <div class="wrap" id="appWrap">
    <div class="top">
      <div>
        <h1>Конструктор профиля</h1>
        <p class="help" style="margin:22px 0 0;max-width:860px;font-weight:800">Заполни данные → получи ссылку на свою визитку → и интерфейс твоего профиля у тебя в руках.</p>
      </div>
      <div class="seg" id="themeSeg">
        <button type="button" data-theme="dark">Тёмная</button>
        <button type="button" data-theme="soft">Белая</button>
      </div>
    </div>

    <div class="grid">
      <!-- EDITOR -->
      <div class="card editorCard">
        <div class="cardHd">
          <b>Редактор</b>
          <div class="tabs" id="tabs">
            <button class="tab active" data-tab="profile" type="button">Профиль</button>
            <button class="tab" data-tab="buttons" type="button">Кнопки</button>
            <button class="tab" data-tab="links" type="button">Контакты</button>
            <button class="tab" data-tab="points" type="button">Ссылки</button>
            <button class="tab" data-tab="gallery" type="button">Фото</button>
          </div>
        </div>

        <!-- TAB: profile -->
        <div class="pad" id="tab-profile">
          <div class="row">
            <div>
              <label>Имя Фамилия *</label>
              <input id="fullName" placeholder="Иванов Иван Иванович" />
            </div>
            <div>
              <label>Должность</label>
              <input id="role" placeholder="АРХИТЕКТОР &amp; ДИЗАЙНЕР" />
            </div>
          </div>

          <div class="row" style="margin-top:10px">
            <div>
              <label>Аватар (800×800)</label>
              <input id="avatarFile" type="file" accept="image/*" />
              <input id="avatarUrl" placeholder="Ссылка на фото (опционально)" style="margin-top:8px" />
            </div>
            <div>
              <label>Баннер (1600×800)</label>
              <input id="bannerFile" type="file" accept="image/*" />
              <input id="bannerUrl" placeholder="Ссылка на баннер (опционально)" style="margin-top:8px" />
            </div>
          </div>

          <div class="row" style="margin-top:10px">
            <div>
              <label>Логотип (500×500 PNG)</label>
              <input id="logoFile" type="file" accept="image/*" />
              <input id="logoUrl" placeholder="Ссылка на логотип (опционально)" style="margin-top:8px" />
            </div>
            <div>
              <label>Ссылка логотипа</label>
              <input id="logoLink" placeholder="https://abqd.ru" />
            </div>
          </div>

          <div style="margin-top:10px">
            <label>Обо мне (до 500 символов)</label>
            <textarea id="about" maxlength="500"></textarea>
            <div class="mini"><span id="aboutCount">0</span>/500</div>
          </div>

          <div class="row" style="margin-top:10px">
            <div>
              <label>Адрес страницы (slug)</label>
              <input id="slug" placeholder="ivan-ivanov" />
              <div class="help">Публично будет: <b><span id="slugPublicUrl">app.abqd.ru/u/slug</span></b></div>
              <div class="slugTipInline">Совет: короткий slug выигрывает в будущем — меньше ошибок, лучше шаринг.</div>
            </div>
            <div></div>
          </div>

          <div class="slugFooter">
            <div class="slugActionsLeft">
              <button class="btn outline slugAction" id="save" type="button">Сохранить</button>
              <button class="btn outline slugAction" id="preview" type="button">Предпросмотр</button>
              <button class="btn outline slugAction" id="profileLink" type="button">Ссылка на профиль</button>
            </div>
            <button class="btn outline slugAction" id="reset" type="button">Сбросить</button>
          </div>

          <div class="saveStatus" id="saveStatus" data-state="saved" aria-live="polite">
            <span class="saveDot" aria-hidden="true"></span>
            <span class="saveTxt" id="saveStatusText">Сохранено</span>
          </div>
        </div>

        <!-- TAB: buttons -->
        <div class="pad hide" id="tab-buttons">
          <div class="help" style="margin:0 0 10px;font-weight:800">Кнопки под описанием (CTA). До 6 (если указан телефон — до 5, т.к. добавится «Позвонить»).</div>
          <div style="margin:0 0 12px">
            <label>Телефон для кнопки «Позвонить»</label>
            <input id="phone" placeholder="+7 999 000-00-00" />
            <div class="help" style="margin:6px 0 0">Если заполнено — в профиле появится кнопка «Позвонить». Очистишь — кнопка исчезнет.</div>

            <div style="margin-top:10px">
              <label>Стиль кнопки «Позвонить»</label>
              <select id="callStyle">
                <option value="ghost">Обычная</option>
                <option value="primary">Акцент</option>
              </select>
              <div class="help" style="margin:6px 0 0">Работает только если телефон заполнен.</div>
            </div>
          </div>
          <div id="buttonsList"></div>
          <div class="btnRow">
            <button class="btn" id="addButton" type="button">＋ Добавить кнопку</button>
          </div>
        </div>

        <!-- TAB: points -->
        <div class="pad hide" id="tab-points">
          <div class="row">
            <div>
              <label>Заголовок блока</label>
              <input id="pointsTitle" placeholder="Ссылки" />
            </div>
            <div class="help" style="align-self:end">Пункты с возможностью ссылки. Максимум 12.</div>
          </div>
          <div style="margin-top:10px" id="pointsList"></div>
          <div class="btnRow">
            <button class="btn" id="addPoint" type="button">＋ Добавить пункт</button>
          </div>
        </div>

        <!-- TAB: gallery -->
        <div class="pad hide" id="tab-gallery">
          <div class="row">
            <div>
              <label>Заголовок блока</label>
              <input id="galleryTitle" placeholder="Работы" />
            </div>
            <div class="help" style="align-self:end">До 12 карточек. У каждой: фото + подпись + ссылка.</div>
          </div>
          <div style="margin-top:10px" id="galleryList"></div>
          <div class="btnRow">
            <button class="btn" id="addGallery" type="button">＋ Добавить работу</button>
          </div>
        </div>

        <!-- TAB: links -->
        <div class="pad hide" id="tab-links">
          <div class="help" style="margin:0 0 10px;font-weight:800">Контакты (редактор). До 20. По умолчанию без смайликов — только текст.</div>
          <div id="chipsList"></div>
          <div class="btnRow">
            <button class="btn" id="addChip" type="button">＋ Добавить контакт</button>
          </div>
        </div>
      </div>

      <!-- PREVIEW -->
      <div id="previewMount">
        <div class="card" id="previewCard">
          <div class="cardHd">
            <b>Профиль</b>
            <span class="mini"></span>
          </div>

          <div class="hero">
            <div class="banner" id="bannerBox">
              <div class="bannerPlh" id="bannerPlh">Баннер (1600×800)</div>
            </div>

            <div class="heroHead">
              <div class="left">
                <div class="avatar" id="avatarBox"><span class="fallback">A</span></div>
                <div>
                  <h2 class="nm" id="nameEl"></h2>
                  <div class="rl" id="roleEl"></div>
                </div>
              </div>
            </div>

            <div class="about">
              <div class="h2">Обо мне</div>
              <p class="aboutText" id="aboutEl"></p>
              <div class="cta" id="ctaRow"></div>
            </div>
          </div>

          <div class="section" id="contactsSection" style="padding:0 10px 16px">
            <div class="secTitle" id="contactsTitleEl">Контакты</div>
            <div class="chipsRow" id="contactsPreview"></div>
          </div>

          <div class="section" id="pointsSection">
            <div class="secTitle" id="pointsTitleEl">Ссылки</div>
            <div class="list" id="pointsPreview"></div>
          </div>

          <div class="section" id="gallerySection">
            <div class="secTitle" id="galleryTitleEl">Работы</div>
            <div class="grid3" id="galleryPreview"></div>
            <div class="galleryFoot"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOASTS -->
  <div class="toastWrap" id="toastWrap" aria-live="polite" aria-atomic="true"></div>

  <!-- MODAL -->
  <div class="modal" id="modal">
    <div class="modalBackdrop" id="modalBackdrop"></div>
    <div class="modalPanel" id="modalPanel">
      <div class="modalTop">
        <button class="x" id="modalClose" type="button">✕</button>
      </div>
      <div id="modalBody"></div>
    </div>
  </div>

<script src="/assets/constructor.js?v=1"></script>
</body>
</html>
